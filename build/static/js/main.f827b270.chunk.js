(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,n){},42:function(e,t,n){e.exports=n(76)},7:function(e,t){e.exports={CHECK_USERNAME:"CHECK_USERNAME",USER_LOGGED_IN:"USER_LOGGED_IN",UPDATE_USER_LIST:"UPDATE_USER_LIST",USER_RECONNECTED:"USER_RECONNECTED",USER_DATA:"USER_DATA",GAME_LOG_MESSAGE:"GAME_LOG_MESSAGE"}},76:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(39),o=n.n(r),s=(n(26),n(1)),l=n(2),i=n(4),u=n(3),m=n(5),E=n(40),h=n.n(E),d=n(7),b=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){n.setState({name:e.target.value})},n.handleSubmit=function(e){e.preventDefault(),n.props.socket.emit(d.CHECK_USERNAME,n.state.name,n.handleUsernameCheck)},n.handleUsernameCheck=function(e,t,a){t?n.setState({error:"This name is already taken."}):a?(n.setState({error:"A user with this name had disconnected. Are you trying to log back in as ".concat(e,"?")}),n.setState({logBackInAs:e})):(n.setState({error:"",logBackIn:""}),n.props.createUser(e))},n.handleLogBackIn=function(){console.log("Logging back in as ".concat(n.state.logBackInAs)),n.props.socket.emit(d.USER_RECONNECTED,n.state.logBackInAs)},n.state={name:"",error:"",logBackInAs:""},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("form",{onSubmit:this.handleSubmit,className:"loginForm"},c.a.createElement("label",{htmlFor:"username"},"Name:",c.a.createElement("input",{type:"text",id:"username",value:this.state.username,onChange:this.handleChange})),c.a.createElement("input",{type:"submit",value:"Submit"})),c.a.createElement("div",{className:"error"},this.state.error,this.state.logBackInAs?c.a.createElement("button",{onClick:this.handleLogBackIn},"Log back in"):null))}}]),t}(c.a.Component),f=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={userList:[]},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.socket;t&&t.on(d.UPDATE_USER_LIST,function(t){e.setState({userList:t}),console.log(t)})}},{key:"render",value:function(){var e=this.state.userList;return c.a.createElement("div",null,"Players: ",e.join(", "))}}]),t}(c.a.Component),v=n(41),g=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).scrollDown=function(){var e=n.container.current;e.scrollTop=e.scrollHeight},n.container=c.a.createRef(),n.state={logMessages:[]},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.socket.on(d.GAME_LOG_MESSAGE,function(t){e.setState(function(e,n){return{logMessages:[].concat(Object(v.a)(e.logMessages),[t])}})})}},{key:"componentDidUpdate",value:function(){this.scrollDown()}},{key:"render",value:function(){return c.a.createElement("div",{className:"GameLog"},c.a.createElement("h3",null,"Game Log"),c.a.createElement("div",{className:"LogMessageContainer",ref:this.container},this.state.logMessages.map(function(e,t){return c.a.createElement("div",{key:t,className:"LogMessage"},e)})))}}]),t}(c.a.Component),k=n(13),p=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).dieIcon=function(){switch(n.state.value){case"blank":return c.a.createElement(k.e,null);case"two":return c.a.createElement(k.d,null);case"four":return c.a.createElement(k.b,null);case"trio":return c.a.createElement(k.c,null);default:return c.a.createElement(k.a,null)}},n.state={value:null},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.dieColor;return c.a.createElement("span",{className:"Die ".concat(e,"Die")},this.dieIcon())}}]),t}(c.a.Component),O="green",S="purple",j="orange",C=function(e){function t(e){var n;Object(s.a)(this,t),n=Object(i.a)(this,Object(u.a)(t).call(this,e));var a=[];return[O,S,j].forEach(function(e){for(var t=0;t<4;t++){var n=c.a.createElement(p,{dieColor:e,dieId:e+t});a.push(n)}}),n.state={diceInBag:a,diceOnTable:[]},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.diceInBag,n=e.diceOnTable;return c.a.createElement("div",{className:"DiceContainer"},c.a.createElement("div",null,"Dice in bag:",c.a.createElement("br",null),t),c.a.createElement("br",null),c.a.createElement("div",null,"Dice on table:",c.a.createElement("br",null),n))}}]),t}(c.a.Component),A=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).createUser=function(e){var t={name:e};n.setState({user:t}),n.state.socket.emit(d.USER_LOGGED_IN,t)},n.sendAhoy=function(){n.state.socket.emit("ahoy",n.state.user.name)},n.state={socket:null,user:null},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=h()("/");t.on("connect",function(){e.state.user?(t.emit(d.USER_RECONNECTED,e.state.user.name),console.log("Reconnected to server, my socket ID is ".concat(t.id))):console.log("Connected to server, my socket ID is ".concat(t.id))}),t.on(d.USER_DATA,function(t){return e.setState({user:t})}),this.setState({socket:t})}},{key:"render",value:function(){var e=this.state,t=e.socket,n=e.user;return c.a.createElement("div",{className:"App"},n?c.a.createElement("div",{className:"layout"},c.a.createElement("span",null,"Logged in! Welcome ",n.name,"."),c.a.createElement(f,{socket:t}),c.a.createElement(C,{socket:t}),c.a.createElement(g,{socket:t}),c.a.createElement("br",null),c.a.createElement("button",{onClick:this.sendAhoy},"Ahoy!")):c.a.createElement(b,{socket:t,createUser:this.createUser}))}}]),t}(c.a.Component);o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(A,null)),document.getElementById("root"))}},[[42,2,1]]]);
//# sourceMappingURL=main.f827b270.chunk.js.map