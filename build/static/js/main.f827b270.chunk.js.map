{"version":3,"sources":["SocketEvents.js","components/LoginForm.js","components/UserList.js","components/GameLog.js","components/Die.js","components/DiceContainer.js","App.js","index.js"],"names":["module","exports","CHECK_USERNAME","USER_LOGGED_IN","UPDATE_USER_LIST","USER_RECONNECTED","USER_DATA","GAME_LOG_MESSAGE","LoginForm","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleChange","event","setState","name","target","value","handleSubmit","preventDefault","socket","emit","state","handleUsernameCheck","isNameTaken","isDisconnectedUser","error","concat","logBackInAs","logBackIn","createUser","handleLogBackIn","console","log","react_default","a","createElement","onSubmit","className","htmlFor","type","id","username","onChange","onClick","React","Component","UserList","userList","_this2","on","join","GameLog","scrollDown","c","container","current","scrollTop","scrollHeight","createRef","logMessages","message","prevState","prevProps","toConsumableArray","ref","map","index","key","Die","dieIcon","index_esm","dieColor","GREEN","PURPLE","ORANGE","DiceContainer","diceInBag","forEach","color","i","die","components_Die","dieId","push","diceOnTable","_this$state","App","user","sendAhoy","io","components_UserList","components_DiceContainer","components_GameLog","components_LoginForm","ReactDOM","render","StrictMode","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.f827b270.chunk.js","sourcesContent":["module.exports = {\n  CHECK_USERNAME:   \"CHECK_USERNAME\",\n  USER_LOGGED_IN:   \"USER_LOGGED_IN\",\n  UPDATE_USER_LIST: \"UPDATE_USER_LIST\",\n  USER_RECONNECTED: \"USER_RECONNECTED\",\n  USER_DATA:        \"USER_DATA\",\n  GAME_LOG_MESSAGE: \"GAME_LOG_MESSAGE\",\n};\n","import React from 'react';\nimport { CHECK_USERNAME, USER_RECONNECTED } from '../SocketEvents';\n\nclass LoginForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      error: \"\",\n      logBackInAs: \"\"\n    };\n  }\n\n  handleChange = (event) => {\n    this.setState({ name: event.target.value });\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    this.props.socket.emit(CHECK_USERNAME,\n      this.state.name,\n      this.handleUsernameCheck\n    );\n  }\n\n  handleUsernameCheck = (name, isNameTaken, isDisconnectedUser) => {\n    if (isNameTaken) {\n      this.setState({ error: \"This name is already taken.\" });\n    } else if (isDisconnectedUser) {\n      this.setState({ error:\n        `A user with this name had disconnected. Are you trying to log back in as ${name}?`\n      })\n      this.setState({ logBackInAs: name });\n    } else {\n      this.setState({ error: \"\", logBackIn: \"\" });\n      this.props.createUser(name);\n    }\n  }\n\n  handleLogBackIn = () => {\n    console.log(`Logging back in as ${this.state.logBackInAs}`);\n    this.props.socket.emit(USER_RECONNECTED, this.state.logBackInAs);\n  }\n\n  render() {\n    return (\n      <div>\n        <form onSubmit={this.handleSubmit} className=\"loginForm\">\n          <label htmlFor=\"username\">\n            Name:\n            <input\n              type=\"text\"\n              id=\"username\"\n              value={this.state.username}\n              onChange={this.handleChange}\n              />\n          </label>\n          <input type=\"submit\" value=\"Submit\" />\n        </form>\n\n        <div className=\"error\">\n          {this.state.error}\n          { this.state.logBackInAs\n            ? <button onClick={this.handleLogBackIn}>Log back in</button>\n            : null\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default LoginForm;\n","import React from 'react';\nimport { UPDATE_USER_LIST } from '../SocketEvents';\n\nclass UserList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userList: []\n    }\n  }\n\n  componentDidMount() {\n    const { socket } = this.props;\n    if (socket) {\n      socket.on(UPDATE_USER_LIST, (userList) => {\n        this.setState({ userList });\n        console.log(userList);\n      });\n    }\n  }\n\n  render() {\n    const { userList } = this.state;\n    return (\n      <div>Players: {userList.join(', ')}</div>\n    );\n  }\n}\n\nexport default UserList;\n","import React from 'react';\nimport { GAME_LOG_MESSAGE } from '../SocketEvents';\n\nclass GameLog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.container = React.createRef();\n    this.state = {\n      logMessages: [],\n    }\n  }\n\n  componentDidMount() {\n    this.props.socket.on(GAME_LOG_MESSAGE, (message) => {\n      this.setState((prevState, prevProps) => (\n        { logMessages: [...prevState.logMessages, message] }\n      ));\n    });\n  }\n\n  componentDidUpdate() {\n    this.scrollDown()\n  }\n\n  scrollDown = () => {\n    const c = this.container.current;\n    c.scrollTop = c.scrollHeight;\n  }\n\n  render() {\n    return (\n      <div className=\"GameLog\">\n        <h3>Game Log</h3>\n        <div className=\"LogMessageContainer\" ref={this.container}>\n          {\n            this.state.logMessages.map((message, index) => {\n              return (\n                <div key={index} className=\"LogMessage\">{message}</div>\n              );\n            })\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default GameLog;\n","import React from 'react';\nimport { FaDiceD6, FaDiceFour, FaDiceThree, FaDiceTwo,\n  FaSquare } from 'react-icons/fa';\n\nclass Die extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      value: null,\n    };\n  }\n\n  dieIcon = () => {\n    switch(this.state.value) {\n      case \"blank\": return <FaSquare />;\n      case \"two\":   return <FaDiceTwo />;\n      case \"four\":  return <FaDiceFour />;\n      case \"trio\":  return <FaDiceThree />;\n      default:      return <FaDiceD6 />;\n    }\n  }\n\n  render() {\n    const { dieColor } = this.props;\n    return (\n      <span className={`Die ${dieColor}Die`}>\n        {this.dieIcon()}\n      </span>\n    );\n  }\n}\n\nexport default Die;\n","import React from 'react';\nimport Die from './Die';\n\nconst GREEN  = \"green\";\nconst PURPLE = \"purple\";\nconst ORANGE = \"orange\";\n\nclass DiceContainer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const diceInBag = [];\n    const numDiceOfEachColor = 4;\n    [GREEN, PURPLE, ORANGE].forEach((color) => {\n      for (let i=0; i < numDiceOfEachColor; i++) {\n        const die = <Die dieColor={color} dieId={color + i} />;\n        diceInBag.push(die);\n      }\n    });\n\n    this.state = {\n      diceInBag,\n      diceOnTable: [],\n    };\n  }\n\n  render() {\n    const { diceInBag, diceOnTable } = this.state;\n    return (\n      <div className=\"DiceContainer\">\n        <div>\n          Dice in bag:\n          <br />\n          {diceInBag}\n        </div>\n\n        <br />\n        <div>\n          Dice on table:\n          <br />\n          {diceOnTable}\n        </div>\n\n      </div>\n    );\n  }\n}\n\nexport default DiceContainer;\n","import React from 'react';\nimport './index.css';\nimport io from 'socket.io-client';\nimport LoginForm from './components/LoginForm';\nimport UserList from './components/UserList';\nimport GameLog from './components/GameLog';\nimport DiceContainer from './components/DiceContainer';\n\nimport {\n  USER_RECONNECTED,\n  USER_LOGGED_IN,\n  USER_DATA\n} from './SocketEvents';\n\nconst socketUrl = \"/\";                        // FOR BUILD\n//const socketUrl = \"http://192.168.0.101:3030\"; // FOR DEVELOPMENT\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      socket: null,\n      user: null\n    };\n  }\n\n  componentDidMount() {\n    const socket = io(socketUrl);\n\n    socket.on('connect', () => {\n      if (this.state.user) {\n        socket.emit(USER_RECONNECTED, this.state.user.name);\n        console.log(`Reconnected to server, my socket ID is ${socket.id}`);\n      } else {\n        console.log(`Connected to server, my socket ID is ${socket.id}`);\n      }\n    });\n\n    socket.on(USER_DATA, user => this.setState({ user }));\n\n    this.setState({ socket });\n  }\n\n  createUser = (name) => {\n    const user = { name };\n    this.setState({ user });\n    this.state.socket.emit(USER_LOGGED_IN, user);\n  }\n\n  sendAhoy = () => {\n    this.state.socket.emit('ahoy', this.state.user.name);\n  }\n\n  render() {\n    const { socket, user } = this.state;\n    return (\n      <div className=\"App\">\n        {\n          !user\n          ?\n          <LoginForm socket={socket} createUser={this.createUser} />\n          :\n          <div className=\"layout\">\n            <span>Logged in! Welcome {user.name}.</span>\n            <UserList socket={socket} />\n            <DiceContainer socket={socket} />\n            <GameLog socket={socket} />\n            <br />\n            <button onClick={this.sendAhoy}>Ahoy!</button>\n          </div>\n        }\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}